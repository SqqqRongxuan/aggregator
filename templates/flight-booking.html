<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>

<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="keywords" content="">

<title>MyTrip - Travel Booking</title>

<link rel="icon" type="image/x-icon" href="{% static 'img/logo/favicon.png' %}">

<link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
<link rel="stylesheet" href="{% static 'css/all-fontawesome.min.css' %}">
<link rel="stylesheet" href="{% static 'css/flaticon.css' %}">
<link rel="stylesheet" href="{% static 'css/animate.min.css' %}">
<link rel="stylesheet" href="{% static 'css/magnific-popup.min.css' %}">
<link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}">
<link rel="stylesheet" href="{% static 'css/nice-select.min.css' %}">
<link rel="stylesheet" href="{% static 'css/jquery-ui.min.css' %}">
<link rel="stylesheet" href="{% static 'css/jquery.timepicker.min.css' %}">
<link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

<div class="preloader">
<div class="loader">
<span style="--i:1;"></span>
<span style="--i:2;"></span>
<span style="--i:3;"></span>
<span style="--i:4;"></span>
<span style="--i:5;"></span>
<span style="--i:6;"></span>
<span style="--i:7;"></span>
<span style="--i:8;"></span>
<span style="--i:9;"></span>
<span style="--i:10;"></span>
<span style="--i:11;"></span>
<span style="--i:12;"></span>
<span style="--i:13;"></span>
<span style="--i:14;"></span>
<span style="--i:15;"></span>
<span style="--i:16;"></span>
<span style="--i:17;"></span>
<span style="--i:18;"></span>
<span style="--i:19;"></span>
<span style="--i:20;"></span>
<div class="loader-plane"></div>
</div>
</div>


<header class="header">

<div class="header-top">
<div class="container">
<div class="row align-items-center">
<div class="col-md-7">
<div class="header-top-left">
</div>
</div>
<div class="col-md-5">
<div class="header-top-right">
<div class="account">
<a href="{% url 'login' %}"><i class="far fa-sign-in"></i>Login the Payment Account</a>
<a href="{% url 'register' %}"><i class="far fa-user-tie"></i>Sign Up the Payment Account</a>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="main-navigation">
<nav class="navbar navbar-expand-lg">
<div class="container">
<a class="navbar-brand" href="index.html">
<img src="{% static 'img/logo/logo.png' %}" class="logo-display" alt="logo">
<img src="{% static 'img/logo/logo-dark.png' %}" class="logo-scrolled" alt="logo">
</a>
<div class="mobile-menu-right">
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#main_nav" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-btn-icon"><i class="far fa-bars"></i></span>
</button>
</div>
<div class="collapse navbar-collapse" id="main_nav">
<ul class="navbar-nav">
<li class="nav-item dropdown">
<a class="nav-link" href="#">Home</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Flight</a>
<ul class="dropdown-menu fade-down">
<li><a class="dropdown-item" href="{% url 'home' %}">Flight List</a></li>
<li><a class="dropdown-item" href="{% url 'flightSingle' %}">Flight Details</a></li>
<li><a class="dropdown-item" href="{% url 'passengerAdd' %}">Add Passenger</a></li>
</ul>
</li>
</ul>
<div class="header-nav-right">
<div class="header-account">
<div class="dropdown">
<div data-bs-toggle="dropdown" aria-expanded="false">
<img src="{% static 'img/account/user.jpg' %}" alt="">
</div>
<ul class="dropdown-menu dropdown-menu-end">
<li><a class="dropdown-item" href="{% url 'myProfile' %}"><i class="far fa-user"></i> My Profile</a></li>
<li><a class="dropdown-item" href="{% url 'myBooking' %}"><i class="far fa-shopping-bag"></i> My Booking</a></li>
<li><a class="dropdown-item" href="{% url 'passengerAdd' %}"><i class="far fa-wallet"></i> Add Passenger </a></li>
<li><a class="dropdown-item" href="{% url 'logout' %}"><i class="far fa-sign-out"></i> Log Out</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
</nav>
</div>
</header>

<main class="main">

<div class="site-breadcrumb" style="background: url({% static 'img/breadcrumb/01.jpg' %})">
<div class="container">
<h2 class="breadcrumb-title">Flight Booking</h2>
<ul class="breadcrumb-menu">
<li><a href="index.html">Home</a></li>
<li class="active">Flight Booking</li>
</ul>
</div>
</div>

<div class="flight-booking py-120">
<div class="container">
<div class="row">
<div class="col-lg-8">
<div class="booking-widget">
<h4 class="booking-widget-title">Your Booking Number</h4>
<div class="booking-payment-area">
<form id = "Booking Number">
    {% csrf_token %}
<div class="form-group">
<label>Account Number</label>
<div class="form-group-icon">
<input type="text" class="form-control" placeholder="Your Booking Number" name="booking_number" id="booking_number">
</div>
</div>
</form>
</div>
</div>
<div class="booking-widget">
<h4 class="booking-widget-title">Your Card Information</h4>
<div class="booking-payment-area">
<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
<li class="nav-item" role="presentation">
<a class="nav-link" id="pills-tab-1" data-bs-toggle="pill" data-bs-target="#pills-1" type="button" role="tab" aria-controls="pills-1" aria-selected="false">
<div class="payment-card-img">
<img src="{% static 'img/payment/visa.svg'%}" alt="">
</div>
<span>Payment With Credit Card</span>
</a>
</li>
<li class="nav-item" role="presentation">
<a class="nav-link" id="pills-tab-2" data-bs-toggle="pill" data-bs-target="#pills-2" type="button" role="tab" aria-controls="pills-2" aria-selected="false">
<div class="booking-payment-img">
<img src="{% static 'img/payment/discover.svg'%}" alt="">
</div>
<span>Payment With PayPal</span>
</a>
</li>
<li class="nav-item" role="presentation">
<a class="nav-link" id="pills-tab-3" data-bs-toggle="pill" data-bs-target="#pills-3" type="button" role="tab" aria-controls="pills-3" aria-selected="false">
<div class="booking-payment-img">
<img src="{% static 'img/payment/paypal.svg' %}" alt="">
</div>
<span>Payment With Payoneer</span>
</a>
</li>
<li class="nav-item" role="presentation">
<a class="nav-link" id="pills-tab-4" data-bs-toggle="pill" data-bs-target="#pills-4" type="button" role="tab" aria-controls="pills-4" aria-selected="false">
<div class="payment-card-img">
<img src="{% static 'img/payment/mastercard.svg'%}" alt="">
</div>
<span>Payment With Credit Card</span>
</a>
</li>
</ul>
<div class="tab-content" id="pills-tabContent">
<div class="tab-pane fade show active" id="pills-5" role="tabpanel" aria-labelledby="pills-tab-5" tabindex="0">
<div class="booking-form">
<form id="loginCard">
<div class="row">
<div class="col-lg-6">
<div class="form-group">
<label>Account</label>
<div class="form-group-icon">
<input type="text" class="form-control" name="account_number" placeholder="Number On Card">
<i class="far fa-user"></i>
</div>
</div>
</div>
<div class="col-lg-6">
<div class="form-group">
<label>Password</label>
<div class="form-group-icon">
 <input type="password" class="form-control" name="pwd" placeholder="Your Card Password">
<i class="far fa-credit-card"></i>
</div>
</div>
</div>
</div>
</form>
</div>
</div>
<div class="tab-pane fade show active" id="pills-1" role="tabpanel" aria-labelledby="pills-tab-1" tabindex="0">
<div class="booking-form">
<form action="#" id="confirm1">
    {% csrf_token %}
<div>
<button type="submit" class="theme-btn">Login Account<i class="far fa-arrow-right"></i></button>
</div>
</form>
</div>
</div>
<div class="tab-pane fade" id="pills-2" role="tabpanel" aria-labelledby="pills-tab-2" tabindex="0">
<div class="booking-form">
<form action="#" id="confirm2">
    {% csrf_token %}
<div class="form-group mt-2">
<button type="submit" class="theme-btn">Login Account<i class="far fa-arrow-right"></i></button>
</div>
</form>
</div>
</div>
<div class="tab-pane fade" id="pills-3" role="tabpanel" aria-labelledby="pills-tab-3" tabindex="0">
<div class="booking-form">
<form action="#" id="confirm3">
    {% csrf_token %}
<div class="form-group mt-2">
<button type="submit" class="theme-btn">Login Account<i class="far fa-arrow-right"></i></button>
</div>
 </form>
</div>
</div>
<div class="tab-pane fade" id="pills-4" role="tabpanel" aria-labelledby="pills-tab-4" tabindex="0">
<div class="booking-form">
<form action="#" id="confirm4">
    {% csrf_token %}
<div class="form-group mt-2">
<button type="submit" class="theme-btn">Login Account<i class="far fa-arrow-right"></i></button>
</div>
 </form>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="col-lg-4">
<div class="booking-summary">
<h4 class="mb-30">Booking Summary</h4>
<div class="booking-property-img">
<img src="{% static 'img/flight/07.jpg' %}" alt="">
</div>
<div class="booking-property-content">
<div class="booking-property-title">
<div>
<h5>New York - Los Angeles</h5>
<p>One Way Flight</p>
</div>
<a href="#" class="book-edit-btn"><i class="far fa-pen"></i></a>
</div>
<div class="booking-property-rate">
<span class="badge"><i class="far fa-star"></i> 4.5/5</span>
<span class="rate-type">Average</span>
<span class="rate-text">(35 Reviews)</span>
</div>
</div>
<div class="booking-info-summary">
<h5>Order Info</h5>
<ul>
<li>Airline: <span>Delta</span></li>
</ul>
</div>
<div class="booking-order-info">
<div class="booking-pay-info">
<ul>
<li class="order-total">You Pay: <span>$51,543.00</span></li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

</main>

<footer class="footer-area">
<div class="footer-widget">
<div class="container">
<div class="row footer-widget-wrapper pt-50 pb-30">
<div class="col-md-6 col-lg-6">
<div class="footer-widget-box about-us">
<a href="#" class="footer-logo">
<img src="{% static 'img/logo/logo-dark.png' %}" alt="">
</a>
<p class="mb-4">
Committed to providing the best quality air ticket booking service.
</p>
<ul class="footer-contact">
<li>
<div class="footer-call">
<div class="footer-call-icon">
<i class="fal fa-headset"></i>
</div>
<div class="footer-call-info">
<h6>Flight Service</h6>
<a href="tel:+21236547898">+2 123 654 7898</a>
</div>
</div>
</li>
<li><i class="far fa-map-marker-alt"></i>The Third Teaching Building, Xipu Campus, Southwest Jiaotong University, Chengdu</li>
<li><i class="far fa-envelopes"></i>sc19sf@leeds.ac.uk</li>
</ul>
</div>
</div>
<div class="col-md-3 col-lg-3">
<div class="footer-widget-box list">
<h4 class="footer-widget-title">Airline server</h4>
<ul class="footer-list">
<li><a href="#"><i class="fas fa-angle-double-right"></i> Airline 1</a></li>
<li><a href="#"><i class="fas fa-angle-double-right"></i> Airline 2</a></li>
<li><a href="#"><i class="fas fa-angle-double-right"></i> Airline 3</a></li>
<li><a href="#"><i class="fas fa-angle-double-right"></i> Airline 4</a></li>
<li><a href="#"><i class="fas fa-angle-double-right"></i> Airline 5</a></li>
</ul>
 </div>
</div>
<div class="col-md-3 col-lg-3">
<div class="footer-widget-box list">
<h4 class="footer-widget-title">Payment provider</h4>
<div class="footer-payment-method">
<ul class="footer-list">
<li><a href="#"><i class="fas fa-angle-double-right"></i> PayPal</a></li>
    <li><a href="#"><i class="fas fa-angle-double-right"></i> WeChat Pay</a></li>
<li><a href="#"><i class="fas fa-angle-double-right"></i> Alipay</a></li>
<li><a href="#"><i class="fas fa-angle-double-right"></i> Apple Pay</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="copyright">
<div class="container">
<div class="row">
<div class="col-md-6 align-self-center">
<p class="copyright-text">
&copy; Copyright <span id="date"></span> by <a href="https://minerva.leeds.ac.uk">Group 6</a> All Rights Reserved.
</p>
</div>
</div>
</div>
</div>
</footer>


<a href="#" id="scroll-top"><i class="far fa-angle-up"></i></a>


<script src="{% static 'js/jquery-3.6.0.min.js' %}"></script>
<script src="{% static 'js/modernizr.min.js' %}"></script>
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'js/imagesloaded.pkgd.min.js' %}"></script>
<script src="{% static 'js/jquery.magnific-popup.min.js' %}"></script>
<script src="{% static 'js/isotope.pkgd.min.js' %}"></script>
<script src="{% static 'js/jquery.appear.min.js' %}"></script>
<script src="{% static 'js/jquery.easing.min.js' %}"></script>
<script src="{% static 'js/owl.carousel.min.js' %}"></script>
<script src="{% static 'js/counter-up.js' %}"></script>
<script src="{% static 'js/masonry.pkgd.min.js' %}"></script>
<script src="{% static 'js/jquery.nice-select.min.js' %}"></script>
<script src="{% static 'js/jquery-ui.min.js' %}"></script>
<script src="{% static 'js/jquery.timepicker.min.js' %}"></script>
<script src="{% static 'js/wow.min.js' %}"></script>
<script src="{% static 'js/main.js' %}"></script>

{#选择payment provider script#}
<script>
    $(function () {
        //  1.监听表单的提交事件
        $('#confirm1').on('submit', function (e) {
             e.preventDefault()                  // 2.阻止表单的默认行为
            // 3.获得所选的payment provider
            $.ajax({
            type : 'POST',                       //请求方式
            contentType:'application/json',
            url : 'https://sc19z2z.pythonanywhere.com/airline1/payforbooking/',  //请求的URL地址
            data:JSON.stringify({
                booking_number: $('[name="booking_number"]').val(),
                payment_provider_name: 'PayPal'
            }),
            success: function(res) {            //请求成功后的回调函数
              console.log(res);
            }
            })
             $.ajax({
                type : 'POST',                       //请求方式
                contentType:'application/json',
                url : 'http://allyzhj.pythonanywhere.com/signin/',  //请求的URL地址
                data:JSON.stringify({
                    account_number: $('[name="account_number"]').val(),
                    pwd: $('[name="pwd"]').val()
                }),
                success: function(res) {            //请求成功后的回调函数
                  console.log(res);
                  alert(res);
                  location.href="{% url 'bookingConfirm' %}"
                }
               })
        })

        $('#confirm2').on('submit', function (e) {
             e.preventDefault()                  // 2.阻止表单的默认行为
            // 3.获得所选的payment provider
            $.ajax({
            type : 'POST',                       //请求方式
            contentType:'application/json',
            url : 'https://sc19z2z.pythonanywhere.com/airline1/payforbooking/',  //请求的URL地址
            data:JSON.stringify({
                booking_number: $('[name="booking_number"]').val(),
                payment_provider_name: 'WeChat Pay'

            }),
            success: function(res) {            //请求成功后的回调函数
              console.log(res);
            }
            })
            $.ajax({
                type : 'POST',                       //请求方式
                contentType:'application/json',
                url : 'http://allyzhj.pythonanywhere.com/signin/',  //请求的URL地址
                data:JSON.stringify({
                    account_number: $('[name="account_number"]').val(),
                    pwd: $('[name="pwd"]').val()
                }),
                success: function(res) {            //请求成功后的回调函数
                  console.log(res);
                  alert(res);
                  location.href="{% url 'bookingConfirm' %}"
                }
               })
        })

        $('#confirm3').on('submit', function (e) {
             e.preventDefault()                  // 2.阻止表单的默认行为
            // 3.获得所选的payment provider
            {#$.ajax({#}
            {#type : 'POST',                       //请求方式#}
            {#contentType:'application/json',#}
            {#url : 'https://sc19z2z.pythonanywhere.com/airline1/payforbooking/',  //请求的URL地址#}
            {#data:JSON.stringify({#}
            {#    booking_number: $('[name="booking_number"]').val(),#}
            {#    payment_provider_name: 'PayPal'#}
            {##}
            {# }),#}
            {#success: function(res) {            //请求成功后的回调函数#}
            {#  console.log(res);#}
            {#  alert(res);#}
            {# }#}
            {# })#}
            $.ajax({
                type : 'POST',                       //请求方式
                contentType:'application/json',
                url : 'http://allyzhj.pythonanywhere.com/signin/',  //请求的URL地址
                data:JSON.stringify({
                    account_number: $('[name="account_number"]').val(),
                    pwd: $('[name="pwd"]').val()
                }),
                success: function(res) {            //请求成功后的回调函数
                  console.log(res);
                  alert(res);
                  location.href="{% url 'bookingConfirm' %}"
                }
               })
        })
        $('#confirm4').on('submit', function (e) {
             e.preventDefault()                  // 2.阻止表单的默认行为
            // 3.获得所选的payment provider
            $.ajax({
            type : 'POST',                       //请求方式
            contentType:'application/json',
            url : 'https://sc19z2z.pythonanywhere.com/airline1/payforbooking/',  //请求的URL地址
            data:JSON.stringify({
                booking_number: $('[name="booking_number"]').val(),
                payment_provider_name: 'Apple Pay'
            }),
            success: function(res) {            //请求成功后的回调函数
              console.log(res);
            }
            })
            $.ajax({
                type : 'POST',                       //请求方式
                contentType:'application/json',
                url : 'http://allyzhj.pythonanywhere.com/signin/',  //请求的URL地址
                data:JSON.stringify({
                    account_number: $('[name="account_number"]').val(),
                    pwd: $('[name="pwd"]').val()
                }),
                success: function(res) {            //请求成功后的回调函数
                  console.log(res);
                  alert(res);
                  location.href="{% url 'bookingConfirm' %}"
                }
               })
        })

    })

</script>
</body>
</html>